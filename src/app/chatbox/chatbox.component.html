<section class="flex flex-col md:flex-row h-screen">
    <!-- Sidebar - preserving original structure -->
    <div class="w-full md:w-auto">
      <app-sidenav class="hidden md:block md:basis-1/5"></app-sidenav>
    </div>
    
    <!-- Main content - centered and with fixed positioning on larger screens -->
    <div class="w-full md:fixed md:left-1/2 md:transform md:-translate-x-1/2 md:ml-[100px] lg:ml-[150px] md:w-3/4 lg:w-2/3 px-4 md:px-0">
      <!-- Header section -->
      <div class="flex flex-col sm:flex-row sm:justify-between my-4 md:my-10 mr-4 md:mr-8 lg:mr-16">
        <div class="mb-4 sm:mb-0">
          <h3 class="font-semibold text-xl text-primary">Chat with LegalLens</h3>
        </div>
        <div class="flex items-center space-x-2 self-center sm:self-auto">
          <div class="w-10 h-10 md:w-12 md:h-12 rounded-full bg-primary text-white flex items-center justify-center text-xl font-bold">
            G
          </div>
          <div class="text-sm font-medium">
            Guest
          </div>
        </div>
      </div>
      
      <!-- Main chat container -->
      <div class="bg-neutral-200 p-4 sm:p-6 md:p-10 h-[350px] sm:h-[400px] md:h-[450px] rounded-lg pb-20 sm:pb-24 md:pb-28 mx-auto relative">
        <div class="response-container h-full overflow-y-auto">
          <div class="heading mb-4">
            <h1>How can i help you today?</h1>
          </div>
          
          <!-- Chat history area -->
          <div class="h-32 sm:h-36 md:h-44 w-full overflow-y-auto">
            <div class="chat-history">
              <div *ngFor="let message of messages" class="message py-2 md:py-4">
                <span class="font-semibold my-2"><span class="text-primary">User : </span>{{message.userInput}}</span> <br>
                <span class="message-sender font-semibold text-secondary">{{ message.sender }} :</span>
                <span class="message-content"> {{ message.content }}</span>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Loading Animation -->
        <div *ngIf="isLoading" class="loading-animation">
          <div class="loading-text">
            <p>Loading...</p>
          </div>
          <div class="dots">
            <div class="dot"></div>
            <div class="dot"></div>
            <div class="dot"></div>
          </div>
        </div>
        
        <!-- Input area with send button at edge -->
        <div id="input-container" class="chatbox w-full  bg-stone-200  md:px-20 md:mx-40">
          <div class="relative">
            <input 
              class="w-full focus:outline-none p-2 md:pr-16" 
              type="text" 
              id="user-input" 
              [(ngModel)]="userInput" 
              placeholder="What are the facts of your case?" 
              (keydown.enter)="sendMessage()"
            >
          </div>
        </div>
      </div>
    </div>
  </section>